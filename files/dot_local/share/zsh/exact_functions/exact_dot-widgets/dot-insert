readonly local __STDIN__="$(cat)"

if [[ -n "$__STDIN__" ]]; then
  LBUFFER+="${${(fq)__STDIN__}[@]}"
  CURSOR=$#LBUFFER
fi

zle reset-prompt
